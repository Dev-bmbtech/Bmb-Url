<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><title>Catbox Uploader</title><style>*{margin:0;padding:0;box-sizing:border-box}
body{font-family:Arial,sans-serif;height:100vh;display:flex;justify-content:center;align-items:center;background:#000;color:white;overflow:hidden}
#bgCanvas{position:fixed;top:0;left:0;width:100%;height:100%;z-index:-1;background:#000}
#loader{position:fixed;top:0;left:0;width:100%;height:100%;background:#000;display:flex;justify-content:center;align-items:center;flex-direction:column;z-index:9999}.spinner{width:80px;height:80px;border:8px solid #333;border-top:8px solid #00ffcc;border-radius:50%;animation:spin 1s linear infinite}
@keyframes spin{0%{transform:rotate(0deg)}
100%{transform:rotate(360deg)}}
#main{display:none;text-align:center;padding:30px;background:rgba(20,20,20,0.9);border-radius:15px;width:400px;box-shadow:0px 4px 20px rgba(0,255,200,0.3)}
h2{margin-bottom:20px;color:#00ffcc}
#uploadBox{border:2px dashed #00ffcc;border-radius:12px;padding:25px;cursor:pointer;transition:0.3s;margin-bottom:15px}
#uploadBox:hover{background:rgba(0,255,200,0.1)}
#uploadBox p{margin:0;font-size:14px;color:#aaa}
#preview{display:none;margin-bottom:15px}
#preview img{max-width:100%;border-radius:10px;border:2px solid #00ffcc}
#actionBtn{padding:12px;width:100%;border:none;border-radius:8px;font-weight:bold;cursor:pointer;transition:0.3s;background:#00ffcc;color:black}
#actionBtn:hover{background:#00ccaa}
#status{margin-top:10px;font-weight:bold;color:#fff}
#linkRow{display:none;margin-top:15px;display:flex;align-items:center;justify-content:space-between;background:#111;padding:8px 12px;border-radius:8px}
#url{color:#00ffcc;text-decoration:none;flex:1;text-align:left;word-break:break-all;margin-right:10px;font-size:14px}
#copyBtn{background:#222;color:#00ffcc;border:none;border-radius:6px;padding:6px 12px;cursor:pointer}
#copyBtn:hover{background:#333}</style></head><body><!-- Background Canvas --><canvas id="bgCanvas"></canvas><!-- Loader --><div id="loader"><div class="spinner"></div><p style="margin-top:15px;font-weight:bold;color:#00ffcc;">Loading...Please wait</p></div><!-- Main Uploader --><div id="main"><h2>B.M.B TECH URL</h2><!-- Upload Box --><div id="uploadBox" onclick="document.getElementById('fileInput').click()"><p>upload photos</p></div><input type="file" id="fileInput" accept="image/*" style="display:none;" onchange="showPreview(event)"/><!-- Preview --><div id="preview"><img id="previewImg" src="" alt="Preview"></div><!-- Single Action Button --><button id="actionBtn" onclick="handleAction()">Upload</button><!-- Status --><p id="status"></p><!-- Link Row --><div id="linkRow"><a id="url" target="_blank"></a><button id="copyBtn" onclick="copyLink()">Copy</button></div></div><script>let uploaded=!1;window.onload=function(){setTimeout(()=>{document.getElementById('loader').style.display='none';document.getElementById('main').style.display='block'},5000)};const canvas=document.getElementById("bgCanvas");const ctx=canvas.getContext("2d");let particles=[];function resizeCanvas(){canvas.width=window.innerWidth;canvas.height=window.innerHeight}
window.addEventListener("resize",resizeCanvas);resizeCanvas();for(let i=0;i<70;i++){particles.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height,radius:Math.random()*2+1,dx:(Math.random()-0.5)*1.5,dy:(Math.random()-0.5)*1.5,color:"#00ffcc"})}
function animate(){ctx.clearRect(0,0,canvas.width,canvas.height);particles.forEach(p=>{ctx.beginPath();ctx.arc(p.x,p.y,p.radius,0,Math.PI*2);ctx.fillStyle=p.color;ctx.fill();p.x+=p.dx;p.y+=p.dy;if(p.x<0||p.x>canvas.width)p.dx*=-1;if(p.y<0||p.y>canvas.height)p.dy*=-1});requestAnimationFrame(animate)}
animate();function showPreview(event){const file=event.target.files[0];if(file){const reader=new FileReader();reader.onload=function(e){document.getElementById('previewImg').src=e.target.result;document.getElementById('preview').style.display='block'};reader.readAsDataURL(file);uploaded=!0;document.getElementById('status').innerText="✅ Image selected";document.getElementById('actionBtn').innerText="Generate Link"}}
function handleAction(){if(!uploaded){document.getElementById('fileInput').click()}else{uploadFile()}}
async function uploadFile(){const file=document.getElementById('fileInput').files[0];if(!file)return alert('Select an image first');const formData=new FormData();formData.append('file',file);document.getElementById('status').innerText='⏳ Uploading...';document.getElementById('url').innerText='';document.getElementById('linkRow').style.display='none';try{const res=await fetch('/upload',{method:'POST',body:formData});const data=await res.json();if(data.url){document.getElementById('status').innerText='✅ Success!';document.getElementById('url').innerText=data.url;document.getElementById('url').href=data.url;document.getElementById('linkRow').style.display='flex'}else{throw new Error(data.error)}}catch(err){console.error(err);document.getElementById('status').innerText='❌ Upload failed'}}
function copyLink(){const urlText=document.getElementById('url').innerText;navigator.clipboard.writeText(urlText).then(()=>{alert("Link copied to clipboard!")})}</script></body></html>
